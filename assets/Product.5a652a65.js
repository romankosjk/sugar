import{d as t,p as a,e as o,o as r,c as s,a as c,t as e,h as l,g as n,l as d,v as i,w as u,b as p}from"./vendor.7c5eae7b.js";const m=new PouchDB("product");var f=t({name:"Product",setup:()=>{},data:()=>({product:null,gram:100}),computed:{url(){return this.$route.params.id}},methods:{prev(){this.$router.go(-1)},calculate(t){return parseFloat(t)*this.gram/100},bxCalc(t){return(.4*this.calculate(t)/12).toFixed(1)},bjCalc(t){return(.3*this.calculate(t)/12).toFixed(1)},byCalc(t){return(this.calculate(t)/12).toFixed(1)},bxbjCalc:(t,a)=>(parseFloat(t)+parseFloat(a)).toFixed(1),allCalc:(t,a,o)=>(parseFloat(t)+parseFloat(a)+parseFloat(o)).toFixed(1),async getProducts(){try{await m.get(this.$route.params.id).then((t=>{this.product=t,this.gram=this.product.gram}))}catch(t){console.error(t)}},async setProducts(){try{this.product.gram=this.gram,this.product.is_home=1,await m.put(this.product),this.prev()}catch(t){console.error(t)}}},mounted(){this.getProducts()}});const b=u("data-v-69bd99f4");a("data-v-69bd99f4");const h={key:0,class:"product"},x={class:"product-title d-flex mb-2"},_={class:"product-container d-flex mb-4"},v={class:"product-container__avatar me-2"},g={class:"product-container__information text-center w-100 mt-auto"},y={class:"text-center h6 text-primary"},C=p("На "),F=p(" гр. продукту"),j={class:"information-items d-flex"},P={class:"information flex-fill d-flex flex-column"},w=c("span",{class:"information__header"},"БЖ",-1),k={class:"information__footer"},I={class:"information flex-fill d-flex flex-column"},$=c("span",{class:"information__header"},"У",-1),B={class:"information__footer"},D={class:"information flex-fill d-flex flex-column"},U=c("span",{class:"information__header"},"ХЕ",-1),V={class:"information__footer"},q={class:"product-form"},z={class:"mb-3"},A=c("label",{for:"productInput",class:"form-label"},"Количесво грамм",-1);o();const E=b(((t,a,o,u,p,m)=>t.product?(r(),s("div",h,[c("div",x,[c("h3",null,e(t.product.title),1),c("button",{type:"button",class:"btn btn-outline-success ms-auto",onClick:a[1]||(a[1]=l(((...a)=>t.prev&&t.prev(...a)),["prevent"]))},"Назад")]),c("div",_,[c("div",v,[t.product.image?(r(),s("img",{key:0,class:"mx-auto",src:t.product.image},null,8,["src"])):n("",!0)]),c("div",g,[c("p",y,[C,c("strong",null,e(t.gram),1),F]),c("div",j,[c("div",P,[w,c("span",k,e(t.bxbjCalc(t.bxCalc(t.product.product_b),t.bjCalc(t.product.product_j))),1)]),c("div",I,[$,c("span",B,e(t.byCalc(t.product.product_y)),1)]),c("div",D,[U,c("span",V,e(t.allCalc(t.bxCalc(t.product.product_b),t.bjCalc(t.product.product_j),t.byCalc(t.product.product_y))),1)])])])]),c("div",q,[c("div",z,[A,d(c("input",{"onUpdate:modelValue":a[2]||(a[2]=a=>t.gram=a),type:"number",class:"form-control form-control-lg",id:"productInput",placeholder:"100"},null,512),[[i,t.gram]])]),c("button",{type:"button",onClick:a[3]||(a[3]=l(((...a)=>t.setProducts&&t.setProducts(...a)),["prevent"])),class:"btn btn-primary btn-lg w-100"},"Добавить")])])):n("",!0)));f.render=E,f.__scopeId="data-v-69bd99f4";export default f;
