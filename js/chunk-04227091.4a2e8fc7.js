(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04227091"],{"03c6":function(t,e,a){},"33cc":function(t,e,a){"use strict";a("03c6")},dd4b:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.notCategoryProducts.length?a("div",{staticClass:"product-items"},t._l(t.notCategoryProducts,(function(e,r){return a("div",{key:r},[a("router-link",{staticClass:"d-block card product-items__item text-decoration-none mb-2",attrs:{to:"/edit/"+e.doc._id}},[a("div",{staticClass:"card-body d-flex"},[a("div",{staticClass:"product-items__item-avatar mr-2"},[e.doc.image?a("img",{staticClass:"mx-auto",attrs:{src:e.doc.image}}):t._e()]),a("div",{staticClass:"product-items__item-content w-100 d-flex flex-column"},[a("h6",[t._v(t._s(e.doc.title))]),a("div",{staticClass:"mt-auto"},[a("p",{staticClass:"text-center text-primary m-0"},[t._v("На "),a("strong",[t._v(t._s(e.doc.gram||"100"))]),t._v(" гр. продукту")]),a("div",{staticClass:"item-information d-flex text-center"},[a("div",{staticClass:"item-information__item flex-fill d-flex flex-column"},[a("span",{staticClass:"item-information__header"},[t._v("БЖ")]),a("span",{staticClass:"item-information__footer"},[t._v(t._s(t.bxbjCalc(t.bxCalc(e.doc.product_b,e.doc.gram),t.bjCalc(e.doc.product_j,e.doc.gram))))])]),a("div",{staticClass:"item-information__item flex-fill d-flex flex-column"},[a("span",{staticClass:"item-information__header"},[t._v("У")]),a("span",{staticClass:"item-information__footer"},[t._v(t._s(t.byCalc(e.doc.product_y,e.doc.gram)))])]),a("div",{staticClass:"item-information__item flex-fill d-flex flex-column"},[a("span",{staticClass:"item-information__header"},[t._v("ХЕ")]),a("span",{staticClass:"item-information__footer"},[t._v(t._s(t.allCalc(t.bxCalc(e.doc.product_b,e.doc.gram),t.bjCalc(e.doc.product_j,e.doc.gram),t.byCalc(e.doc.product_y,e.doc.gram))))])])])])])])])],1)})),0):t._e()},o=[],c=(a("7db0"),a("b680"),a("159b"),a("96cf"),a("1da1")),n={name:"CategoryNotPage",data:function(){return{products:[],categories:[],notCategoryProducts:[]}},computed:{url:function(){return this.$route.params.id},bx_param:{get:function(){return this.$store.state.option.bx_param}},bj_param:{get:function(){return this.$store.state.option.bj_param}},by_param:{get:function(){return this.$store.state.option.by_param}}},methods:{calculate:function(t,e){return parseFloat(t)*e/100},bxCalc:function(t,e){return(this.calculate(t,e)*parseFloat(this.bx_param)/parseInt(this.by_param)).toFixed(1)},bjCalc:function(t,e){return(this.calculate(t,e)*parseFloat(this.bj_param)/parseInt(this.by_param)).toFixed(1)},byCalc:function(t,e){return(this.calculate(t,e)/parseInt(this.by_param)).toFixed(1)},bxbjCalc:function(t,e){return(parseFloat(t)+parseFloat(e)).toFixed(1)},allCalc:function(t,e,a){return(parseFloat(t)+parseFloat(e)+parseFloat(a)).toFixed(1)},calculateCategoryAndProducts:function(){var t=this,e=null;this.products.forEach((function(a){e=t.categories.find((function(t){return t.id===a.doc.category_id})),e||t.notCategoryProducts.push(a),e=null}))},getProducts:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$pouch.allDocs({include_docs:!0,attachments:!0}).then((function(e){t.products=e.rows,t.calculateCategoryAndProducts()}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},getCategories:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$pouch.allDocs({include_docs:!0,attachments:!0},"category").then((function(e){t.categories=e.rows}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}},mounted:function(){var t=this;console.log("test"),this.getCategories().then((function(){t.getProducts()}))}},s=n,i=(a("33cc"),a("2877")),l=Object(i["a"])(s,r,o,!1,null,"9aa8e89e",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-04227091.4a2e8fc7.js.map